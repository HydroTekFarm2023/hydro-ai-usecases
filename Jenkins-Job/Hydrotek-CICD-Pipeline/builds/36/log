Started by user [8mha:////4CA5kL0r8XoTT3PdnVI1PoGEnxCwKlCoPhe73Uyy/FdkAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyBEgZu/dLi1CL9xLzSrEQAtdxjnMAAAAA=[0manuja somthankar
Running as SYSTEM
Building in workspace C:\ProgramData\Jenkins\.jenkins\workspace\Hydrotek-CICD-Pipeline
[Hydrotek-CICD-Pipeline] $ "C:\Program Files\Git\bin\sh.exe" -xe C:\Users\anuja\AppData\Local\Temp\jenkins8823480391174727059.sh
+ echo 'Hydrotek CICD'
Hydrotek CICD
+ echo 'CI selected '
CI selected 
+ echo 'CD selected ThermalLeafDetection-New'
CD selected ThermalLeafDetection-New
+ BRANCH=master
+ IMAGE_TAG=release
+ SELECTED_APP_CI_ARRAY=
+ SELECTED_APP_CD_ARRAY=ThermalLeafDetection-New
+ REPOSITORY_DIR=hydro-ai-usecases
+ CONTAINER_REGISTRY=gcr.io/hydrotek-286213
+ CI_WORK_DIR=./hydrotek/cicdbuild/
+ DEPLOYMENT=hydrotekapp-deployment
+ NAMESPACE=dev
+ NETWORKTYPE=LoadBalancer
+ PORTNUM=5000
+ DIR=/c/ProgramData/Jenkins/.jenkins/workspace/Hydrotek-CICD-Pipeline
+ echo 'CI/CD Pipeline Started'
CI/CD Pipeline Started
+ '[' -z '' ']'
+ echo 'No project was selected for integration'
No project was selected for integration
+ '[' -z ThermalLeafDetection-New ']'
+ mainCD
+ echo 'MAIN CD'
MAIN CD
+ a=(${SELECTED_APP_CD_ARRAY[0]})
+ echo ThermalLeafDetection-New
ThermalLeafDetection-New
+ '[' ThermalLeafDetection-New == All ']'
+ IFS=', '
+ read -r -a arr
+ for i in "${arr[@]}"
+ temp=ThermalLeafDetection-New
+ temp=ThermalLeafDetection-New
+ echo ThermalLeafDetection-New
ThermalLeafDetection-New
+ i=ThermalLeafDetection-New
+ case "$i" in
+ echo ThermalLeafDetection-New
ThermalLeafDetection-New
+ SELECTED_APP_CI=ThermalLeafDetection-New
+ DEPLOYMENT=ThermalLeafDetection-New
+ NAMESPACE=dev
+ CONTAINERNAME=thermaldetectionnew
+ CONTAINER_REGISTRY=gcr.io/hydrotek-286213
+ IMAGE_TAG=release
+ PORTNUM=6005
+ genericCD ThermalLeafDetection-New ThermalLeafDetection-New dev thermaldetectionnew gcr.io/hydrotek-286213 release 6005
+ SELECTED_APP_CD=ThermalLeafDetection-New
+ DEPLOYMENT=ThermalLeafDetection-New
+ NAMESPACE=dev
+ CONTAINERNAME=thermaldetectionnew
+ CONTAINER_REGISTRY=gcr.io/hydrotek-286213
+ IMAGE_TAG=release
+ PORTNUM=6005
+ echo 'GENERIC CD'
GENERIC CD
+ echo 'Begining Deployment of ThermalLeafDetection-New'
Begining Deployment of ThermalLeafDetection-New
+ gcloud container clusters get-credentials autopilot-cluster-1 --region us-central1 --project hydrotek-286213
Python was not found; run without arguments to install from the Microsoft Store, or disable this shortcut from Settings > Manage App Execution Aliases.
Fetching cluster endpoint and auth data.
kubeconfig entry generated for autopilot-cluster-1.
+ kubectl get deployments ThermalLeafDetection-New --namespace dev
+ grep -q ThermalLeafDetection-New
Error from server (NotFound): deployments.apps "ThermalLeafDetection-New" not found
+ echo 'New deployemnt'
New deployemnt
+ echo 'kubectl create deployment ThermalLeafDetection-New --image=gcr.io/hydrotek-286213/thermaldetectionnew:release --namespace dev'
kubectl create deployment ThermalLeafDetection-New --image=gcr.io/hydrotek-286213/thermaldetectionnew:release --namespace dev
+ kubectl create deployment ThermalLeafDetection-New --image=gcr.io/hydrotek-286213/thermaldetectionnew:release --namespace dev
Warning: Autopilot set default resource requests for Deployment dev/ThermalLeafDetection-New, as resource requests were not specified. See http://g.co/gke/autopilot-defaults.
error: failed to create deployment: Deployment.apps "ThermalLeafDetection-New" is invalid: metadata.name: Invalid value: "ThermalLeafDetection-New": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*')
Build step 'Execute shell' marked build as failure
Finished: FAILURE
